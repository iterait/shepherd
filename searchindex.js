Search.setIndex({docnames:["api","bare_sheep","docker_sheep","index","runners","shepherd/index","shepherd/shepherd","shepherd/shepherd.comm","shepherd/shepherd.docker","shepherd/shepherd.errors","shepherd/shepherd.errors.api","shepherd/shepherd.errors.comm","shepherd/shepherd.errors.docker","shepherd/shepherd.errors.sheep","shepherd/shepherd.runner","shepherd/shepherd.runner.runner_entry_point","shepherd/shepherd.sheep","shepherd/shepherd.shepherd","shepherd/shepherd.storage","shepherd/shepherd.utils","tutorial"],envversion:{"sphinx.domains.c":1,"sphinx.domains.changeset":1,"sphinx.domains.citation":1,"sphinx.domains.cpp":1,"sphinx.domains.javascript":1,"sphinx.domains.math":2,"sphinx.domains.python":1,"sphinx.domains.rst":1,"sphinx.domains.std":1,"sphinx.ext.intersphinx":1,"sphinx.ext.todo":2,"sphinx.ext.viewcode":1,sphinx:56},filenames:["api.rst","bare_sheep.rst","docker_sheep.rst","index.rst","runners.rst","shepherd/index.rst","shepherd/shepherd.rst","shepherd/shepherd.comm.rst","shepherd/shepherd.docker.rst","shepherd/shepherd.errors.rst","shepherd/shepherd.errors.api.rst","shepherd/shepherd.errors.comm.rst","shepherd/shepherd.errors.docker.rst","shepherd/shepherd.errors.sheep.rst","shepherd/shepherd.runner.rst","shepherd/shepherd.runner.runner_entry_point.rst","shepherd/shepherd.sheep.rst","shepherd/shepherd.shepherd.rst","shepherd/shepherd.storage.rst","shepherd/shepherd.utils.rst","tutorial.rst"],objects:{"":{shepherd:[6,0,0,"-"]},"shepherd.comm":{DoneMessage:[7,1,1,""],ErrorMessage:[7,1,1,""],InputMessage:[7,1,1,""],Message:[7,1,1,""],Messenger:[7,1,1,""]},"shepherd.comm.ErrorMessage":{exception_traceback:[7,2,1,""],exception_type:[7,2,1,""],message:[7,2,1,""]},"shepherd.comm.InputMessage":{io_data_root:[7,2,1,""]},"shepherd.comm.Message":{identity:[7,2,1,""],job_id:[7,2,1,""]},"shepherd.comm.Messenger":{recv:[7,3,1,""],send:[7,3,1,""]},"shepherd.docker":{DockerContainer:[8,1,1,""],DockerImage:[8,1,1,""]},"shepherd.docker.DockerContainer":{__init__:[8,3,1,""],_build_run_command:[8,3,1,""],kill:[8,3,1,""],running:[8,3,1,""],start:[8,3,1,""]},"shepherd.docker.DockerImage":{__init__:[8,3,1,""],_login:[8,3,1,""],full_name:[8,3,1,""],pull:[8,3,1,""]},"shepherd.errors":{api:[10,0,0,"-"],comm:[11,0,0,"-"],docker:[12,0,0,"-"],sheep:[13,0,0,"-"]},"shepherd.errors.api":{ApiClientError:[10,4,1,""],ApiServerError:[10,4,1,""],NameConflictError:[10,4,1,""],StorageError:[10,4,1,""],StorageInaccessibleError:[10,4,1,""],UnknownJobError:[10,4,1,""],UnknownSheepError:[10,4,1,""]},"shepherd.errors.comm":{MessageError:[11,4,1,""],UnexpectedMessageTypeError:[11,4,1,""]},"shepherd.errors.docker":{DockerError:[12,1,1,""]},"shepherd.errors.docker.DockerError":{__init__:[12,3,1,""]},"shepherd.errors.sheep":{SheepConfigurationError:[13,1,1,""],SheepError:[13,1,1,""]},"shepherd.runner":{BaseRunner:[14,1,1,""],JSONRunner:[14,1,1,""],n_available_gpus:[14,5,1,""],run:[14,5,1,""],runner_entry_point:[15,0,0,"-"],to_json_serializable:[14,5,1,""]},"shepherd.runner.BaseRunner":{__init__:[14,3,1,""],_load_config:[14,3,1,""],_load_dataset:[14,3,1,""],_load_model:[14,3,1,""],_process_job:[14,3,1,""],process_all:[14,3,1,""]},"shepherd.runner.JSONRunner":{_process_job:[14,3,1,""]},"shepherd.runner.runner_entry_point":{main:[15,5,1,""]},"shepherd.sheep":{BareSheep:[16,1,1,""],BaseSheep:[16,1,1,""],DockerSheep:[16,1,1,""]},"shepherd.sheep.BareSheep":{Config:[16,1,1,""],__init__:[16,3,1,""],_load_model:[16,3,1,""],running:[16,3,1,""],slaughter:[16,3,1,""],start:[16,3,1,""]},"shepherd.sheep.BaseSheep":{Config:[16,1,1,""],__init__:[16,3,1,""],_load_model:[16,3,1,""],running:[16,3,1,""],start:[16,3,1,""]},"shepherd.sheep.DockerSheep":{Config:[16,1,1,""],_CONTAINER_POINT:[16,2,1,""],__init__:[16,3,1,""],_load_model:[16,3,1,""],running:[16,3,1,""],slaughter:[16,3,1,""],start:[16,3,1,""]},"shepherd.shepherd":{Shepherd:[17,1,1,""]},"shepherd.shepherd.Shepherd":{__init__:[17,3,1,""],_dequeue_and_feed_jobs:[17,3,1,""],_get_sheep:[17,3,1,""],_health_check:[17,3,1,""],_listen:[17,3,1,""],_report_job_failed:[17,3,1,""],_shepherd_health_check:[17,3,1,""],_slaughter_all:[17,3,1,""],_slaughter_sheep:[17,3,1,""],_start_sheep:[17,3,1,""],close:[17,3,1,""],enqueue_job:[17,3,1,""],get_job_status:[17,3,1,""],get_status:[17,3,1,""],is_job_done:[17,3,1,""],start:[17,3,1,""]},"shepherd.storage":{MinioStorage:[18,1,1,""],Storage:[18,1,1,""]},"shepherd.storage.MinioStorage":{__init__:[18,3,1,""],_download_object:[18,3,1,""],_ensure_auth_headers:[18,3,1,""],_ensure_user_agent_header:[18,3,1,""],_get_object:[18,3,1,""],_list_bucket:[18,3,1,""],_object_exists:[18,3,1,""],_put_object:[18,3,1,""],_upload_object:[18,3,1,""],close:[18,3,1,""],get_file:[18,3,1,""],get_job_status:[18,3,1,""],init_job:[18,3,1,""],is_accessible:[18,3,1,""],job_dir_exists:[18,3,1,""],pull_job_data:[18,3,1,""],push_job_data:[18,3,1,""],put_file:[18,3,1,""],set_job_status:[18,3,1,""]},"shepherd.storage.Storage":{close:[18,3,1,""],get_file:[18,3,1,""],get_job_status:[18,3,1,""],init_job:[18,3,1,""],is_accessible:[18,3,1,""],job_dir_exists:[18,3,1,""],pull_job_data:[18,3,1,""],push_job_data:[18,3,1,""],put_file:[18,3,1,""],set_job_status:[18,3,1,""]},"shepherd.utils":{create_clean_dir:[19,5,1,""],minio_object_exists:[19,5,1,""]},shepherd:{comm:[7,0,0,"-"],docker:[8,0,0,"-"],errors:[9,0,0,"-"],runner:[14,0,0,"-"],sheep:[16,0,0,"-"],shepherd:[17,0,0,"-"],storage:[18,0,0,"-"],utils:[19,0,0,"-"]}},objnames:{"0":["py","module","Python module"],"1":["py","class","Python class"],"2":["py","attribute","Python attribute"],"3":["py","method","Python method"],"4":["py","exception","Python exception"],"5":["py","function","Python function"]},objtypes:{"0":"py:module","1":"py:class","2":"py:attribute","3":"py:method","4":"py:exception","5":"py:function"},terms:{"abstract":[14,16,18],"case":[1,2,4,20],"class":4,"default":4,"final":[1,20],"import":20,"int":[8,12,14,18],"long":1,"new":[2,8,12,14,16,18,19],"return":[7,8,12,14,15,16,17,18,19],"short":7,"static":[7,18],"throw":[7,18],"true":[7,8,16,18,19],"var":1,"while":[1,18,20],For:1,That:20,The:[1,3,14,17,20],Use:1,With:20,__init__:[8,12,14,16,17,18],_build_run_command:8,_container_point:16,_dataset:4,_dequeue_and_feed_job:17,_download_object:18,_ensure_auth_head:18,_ensure_user_agent_head:18,_get_object:18,_get_sheep:17,_get_stream:4,_health_check:17,_list_bucket:18,_listen:17,_load_config:14,_load_dataset:14,_load_model:[14,16],_login:8,_model:4,_object_exist:18,_process_job:[4,14],_put_object:18,_report_job_fail:17,_shepherd_health_check:17,_slaughter_al:17,_slaughter_sheep:17,_socket:14,_start_sheep:17,_stream:14,_upload_object:18,about:[3,7,10,20],abov:20,abstractdataset:14,abstractmodel:14,acceler:20,accept:16,access:[10,17,18],access_kei:20,accord:18,actual:20,adapt:[16,17,18],add:[2,18],addit:8,address:20,after:8,agent:18,aiobotocor:18,akiaiosfodnn7exampl:20,all:[1,4,13,14,17,18],allow:[1,16],alpin:8,alreadi:[10,17],ani:[1,14,16,17],anoth:4,anywai:20,api:[3,6,9,20],apiclienterror:10,apiservererror:10,apistrap:10,app_data:[7,16],appear:20,appli:14,applic:[7,10],arbitrari:20,argument:11,arrai:14,asid:[1,20],ask:[10,20],assign:10,async:[14,17,18],asynchron:20,asynciter:18,attempt:[10,14,16],authent:18,autoremov:8,avail:[14,17,20],background:17,bare:[2,14,16,20],bare_sheep:[1,16,20],baresheep:[1,16],base:[7,8,12,13,14,16,17,18],base_runn:14,base_sheep:16,baseexcept:13,baserunn:[4,14],basesheep:[16,17],batch:[4,14],befor:20,behavior:[14,17],being:[7,18],belong:18,best:20,better:20,binari:18,binaryio:18,bind:[2,4,8,16],bind_mount:8,block:7,bool:[7,8,16,17,18,19],both:14,bpxrficyexamplekei:20,bucket:[18,19,20],bucket_nam:19,build:8,built:8,call:[1,7,17,20],can:[1,4,15,18,20],capabl:16,certain:17,check:[8,16,17,18,19],chmod:2,choic:2,choos:10,cimultidict:18,cimultidictproxi:18,clean:[17,20],cleanup:18,client:[10,18],clone:20,close:[17,18],cloud:20,cmd:2,code:[3,12],com:[2,3,8,20],comm:[5,6,9],command:[1,4,8,12,15,16,20],common:[1,13],commun:[1,7,18,20],compat:14,compon:14,compos:20,comput:[3,16,20],concaten:14,config:[1,2,8,16,17,20],config_path:[4,14],configur:[4,8,14,15,16,17,18],connect:[16,18],consist:20,contain:[2,8,14,16,17,18],container_id:8,content:[18,19,20],content_sha256:18,copi:17,correct:11,cpu_sheep_1:2,crash:20,creat:[4,14,15,16,17,19,20],create_clean_dir:19,creation:17,cuda_visible_devic:14,custom:14,data:[1,7,14,16,17,18,20],data_root:[17,20],dataset:[4,14],deal:20,debug:20,decod:7,def:4,defaultdict:4,deleg:20,delet:19,depend:[17,20],deploy:16,deprec:[7,16],deserialize_map:[7,16],desir:[14,20],destin:18,destination_path:18,detail:20,dev:[2,14],devic:[2,14,16],dict:[8,16,17],differ:16,dir_path:19,directori:[1,14,16,17,18,19,20],dive:20,divid:5,docker:[1,5,6,9,14,16,17,20],docker_sheep:16,dockercontain:8,dockererror:[8,12],dockerfil:2,dockerimag:8,dockersheep:[2,16],doe:[2,16,18],done:[4,17,18],donemessag:7,dot:3,download:18,dump:4,earlier:1,easi:20,either:[3,18],els:4,emloop:[1,2,3,4,14,20],emloop_exampl:[1,20],empti:1,enabl:[2,3,16],encod:7,encount:[2,7,10],end:[17,20],endless:[14,17],enqueue_job:17,env:[2,8,14],environ:8,environment:20,error:[5,6,7,17,18],errormessag:7,essenc:20,eval:14,even:[2,8],eventu:20,everi:20,everyth:20,exactli:[2,4],exampl:[1,2,16,20],except:[2,7,13],exception_traceback:7,exception_typ:7,execut:[12,17],exist:[16,18,19],exit:17,expect:[1,2,7,20],expected_message_typ:7,explanatori:20,expos:2,fail:[7,17,18],fairli:1,fals:[4,7,8,16,18,19],fed:17,feed:16,feel:20,fetch:18,few:16,file:[1,4,14,18,20],file_path:18,find:[18,20],fine:20,finish:[7,18],first:17,flag:[8,17],folder:[1,7],follow:[2,5,20],found:[1,20],framework:20,free:20,from:[1,2,4,7,14,16,18,20],full:8,full_nam:8,fulli:[4,14],gener:[17,18],gentl:3,get:[14,17],get_fil:18,get_job_statu:[17,18],get_statu:17,git:[2,20],github:[2,3,20],given:[7,14,16,17,18],going:17,gpu:[2,3,14,16,20],greenlet:7,handl:19,has:[17,20],hasattr:4,have:[2,3,14,20],header:18,heavi:20,hello:3,helper:[7,8],here:20,him:20,his:20,hold:20,hopefulli:20,host:8,how:20,http:20,human:7,ident:7,identifi:18,imag:[2,8,16],implement:[14,18],imposs:16,inappropri:11,includ:8,incom:[2,14],incred:20,infer:20,info:[4,14,20],inform:[7,17,18],inherit:[4,10,11,14],init:[7,16],init_job:18,initi:[8,12,18,20],input:[4,7,14,20],input_batch:4,input_path:[4,14],inputmessag:[7,15,16,17],instal:[2,15],instanc:7,intens:20,interfac:18,invalid:10,invok:[4,15],io_data_root:7,is_access:18,is_job_don:17,isol:16,issu:[3,10],item:4,iterait:[2,3,8,20],its:[1,8,14,16,17,19,20],itself:20,job:[1,2,4,7,10,14,15,16,17,18,20],job_data_exist:18,job_dir_exist:18,job_id:[1,7,17,18,20],job_meta:17,jobstatusmodel:[17,18],join:4,json:[4,14,20],json_runn:14,jsonifi:4,jsonrunn:[4,14],just:[4,16,20],k7mdeng:20,kei:4,keyscan:2,kill:[8,16,17],kind:16,know:3,known:[8,17],known_host:2,kwarg:[7,16],latest:[8,20],launch:16,lazi:[7,16],ld_library_path:2,learn:3,length:18,less:17,let:[3,20],lib:2,librari:8,lift:20,lightweight:3,link:1,list:[4,8,14,15,16,18],listen:[2,14],load:[4,14,17],local:[2,17,18,20],locat:1,log:[4,8,17],look:20,loop:[14,17],lost:16,mai:[4,20],mail:3,main:15,make:[10,14,18,20],manag:[8,14,17,20],mani:14,manual:20,map:[8,14,17,18],mark:17,mayb:14,mention:1,messag:[1,7,12,14],messageerror:11,messeng:7,messengererror:7,meta:17,metal:16,method:[14,17,18],middl:17,might:16,mighti:17,minim:1,minio:[10,18,19,20],minio_object_exist:19,minio_storag:18,miniostorag:18,mit:3,mode:[17,20],model:[3,7,14,16,17,20],model_nam:[1,16],model_vers:[1,16],modelcompatibilitymixin:7,modelmodel:17,moment:[10,20],more:[14,20],most:[4,20],mount:8,msg:12,multipl:[3,14,20],my_project:1,n_available_gpu:14,name:[8,14,16,17,18,19,20],nameconflicterror:10,natur:20,necessari:[16,18],need:[2,20],network:20,neural:20,noblock:7,noconfirm:2,none:[4,7,8,12,14,15,16,17,18],nonetheless:20,nor:17,note:20,notic:20,now:20,number:[14,20],numpi:[2,14],nvidia0:2,nvidia:[2,8,14,16,20],nvidia_visible_devic:14,object:[7,8,14,16,17,18,19],object_nam:[18,19],obtain:20,occur:18,offici:3,one:[3,4,20],onli:[1,4,17],open:4,openssh:2,option:[7,8,12,14,16,17,18],order:14,other:[1,20],otherwis:[18,19],our:[3,20],out:18,output:[1,4,7,12,14,17,20],output_batch:4,output_path:[4,14],overrid:4,own:20,packag:[5,7],pacman:2,paramet:[7,8,12,14,16,17,18,19],parent:16,pars:14,partial:[7,16],particular:[1,17],pass:[1,14],path:[4,14,16,18,19],payload:[4,14],perform:[17,18],period:17,pip:[2,20],plan:20,pleas:[3,20],point:20,poll:17,pool:18,poor:20,port:[1,2,4,8,14,15,16,20],post:[14,20],postprocess:4,postprocess_batch:[4,14],predict:4,prepar:[1,16,17,18,20],previous:[14,16],principl:1,process:[1,4,7,14,17,18],process_al:14,produc:14,progress:17,project:[2,3],properli:[2,17],properti:[8,16],provid:[4,18,20],pull:[2,8,16],pull_job_data:18,purpos:4,push_job_data:18,put_fil:18,python:2,pyzmq:2,qualifi:4,queri:[17,18],queue:17,rais:[7,8,10,16,17,18],rather:4,raw_data:[7,16],read:18,readabl:7,readi:[7,17,20],receiv:7,recogn:20,recommend:1,recv:7,registri:[2,8,16,17,20],registry_config:[16,17],registryconfig:[8,16,17],remot:[10,17,18],remov:[8,17],replac:2,repositori:20,request:[10,16,18],request_id:20,requir:18,reset:16,resolv:17,resourc:20,respect:20,respond:7,response_to:7,rest:3,restart:[16,20],result:[4,14,20],result_batch:4,result_json:4,right:20,root:[2,7,16],router:7,run:[1,2,3,4,8,14,16,17,20],runner:[1,2,3,5,6,7,16,20],runner_entry_point:[1,5,6,14],runtim:8,same:[2,17],sandbox:20,save:[14,20],scalar:14,schemat:[7,16],search:18,secret_kei:20,section:[14,20],see:[14,20],self:[4,14,20],send:[7,17],sent:17,sequenc:[7,14],serializ:14,server:[3,10],servic:18,set:[16,17,18,20],set_job_statu:18,setup:20,sever:5,sheep:[5,6,9,10,12,14,17,20],sheep_config:17,sheep_data_root:16,sheep_id:17,sheepconfigurationerror:[13,16],sheeperror:[12,13],sheepmodel:17,shepherd:[1,2,5,20],should:[18,20],similar:20,similarli:2,simpl:[1,2,3],simpler:2,simpli:4,simplifi:4,singl:20,skip:4,slaughter:[16,17],small:4,socket:[1,2,4,7,14,16,17,20],some:[10,20],sourc:[3,4,7,8,10,11,12,13,14,15,16,17,18,19],source_directori:18,source_path:18,specifi:[14,16,17,18,19],ssh:2,stabl:8,start:[8,16,17,20],state:17,statu:[17,18],stderr:[1,20],stderr_fil:[1,20],stdout:[1,20],stdout_fil:[1,20],step:20,still:8,stop:[8,17],storag:[5,6,10,17,20],storage_config:18,storageconfig:18,storageerror:[10,18],storageinaccessibleerror:[10,18],store:[1,18],str:[4,8,12,14,16,17,18,19],stream:[4,14,18],stream_nam:14,strict:[7,16],stringtyp:7,sub:1,submit:20,subprocess:16,success:18,suitabl:14,sure:18,surpris:20,syu:2,tag:8,take:[14,20],target_directori:18,task:[17,18],tdone:4,tell:[16,20],termin:[17,18],test:[2,20],than:2,thei:17,them:20,thi:[2,4,10,14,16,17,18,20],thing:20,though:1,through:[1,7],tmp:[1,20],to_json_serializ:[4,14],todo:20,tpostprocess:4,traceback:7,tracker:3,train:4,trusted_data:[7,16],tupl:17,tutori:3,txt:[1,20],type:[1,2,7,8,11,14,15,16,17,18,19,20],unavail:1,undefin:17,under:[3,20],underli:[8,16],unexpectedmessagetypeerror:[7,11],unfinish:16,union:[7,18],unknown:[7,10,18],unknownjoberror:[10,17,18],unknownmessagetypeerror:7,unknownsheeperror:[10,17],updat:[14,17,18],upload:18,url:[8,18,20],usag:4,use:[1,10,16,17,20],used:10,useful:16,user:[10,18],usernam:8,uses:[1,18],usr:2,usual:1,util:[5,6],valid:[7,16],valu:[4,11],valueerror:7,variabl:[8,14,20],version:[3,16,17,20],via:[1,3,20],wai:20,wait:[17,20],warn:17,well:20,what:[4,20],when:[2,10,14,16,17,18,20],whenev:1,where:[7,17,18],which:[1,4,14,18,20],who:20,whose:18,within:20,without:[16,17],wjalrxutnfemi:20,work:[16,17,20],workdir:2,working_directori:[1,16,20],worth:20,write:4,yaml:[1,2,16],yet:[8,18],yml:20,you:[2,3,4,20],your:[1,2,4,20],zmq:7},titles:["Shepherd API","Bare Sheep","Docker Sheep","Shepherd","Runners","API Reference","<code class=\"docutils literal notranslate\"><span class=\"pre\">shepherd</span></code>","<code class=\"docutils literal notranslate\"><span class=\"pre\">shepherd.comm</span></code>","<code class=\"docutils literal notranslate\"><span class=\"pre\">shepherd.docker</span></code>","<code class=\"docutils literal notranslate\"><span class=\"pre\">shepherd.errors</span></code>","<code class=\"docutils literal notranslate\"><span class=\"pre\">shepherd.errors.api</span></code>","<code class=\"docutils literal notranslate\"><span class=\"pre\">shepherd.errors.comm</span></code>","<code class=\"docutils literal notranslate\"><span class=\"pre\">shepherd.errors.docker</span></code>","<code class=\"docutils literal notranslate\"><span class=\"pre\">shepherd.errors.sheep</span></code>","<code class=\"docutils literal notranslate\"><span class=\"pre\">shepherd.runner</span></code>","<code class=\"docutils literal notranslate\"><span class=\"pre\">shepherd.runner.runner_entry_point</span></code>","<code class=\"docutils literal notranslate\"><span class=\"pre\">shepherd.sheep</span></code>","<code class=\"docutils literal notranslate\"><span class=\"pre\">shepherd.shepherd</span></code>","<code class=\"docutils literal notranslate\"><span class=\"pre\">shepherd.storage</span></code>","<code class=\"docutils literal notranslate\"><span class=\"pre\">shepherd.utils</span></code>","Introduction"],titleterms:{"class":[7,8,12,13,14,16,17,18],"function":[14,15,19],api:[0,5,10],argument:4,bare:1,basic:20,behind:20,comm:[7,11],configur:[1,2,20],contribut:3,custom:4,docker:[2,8,12],error:[9,10,11,12,13],except:[10,11],further:20,instal:20,introduct:20,licens:3,model:[1,2],name:[1,2,4],posit:4,read:20,refer:5,runner:[4,14,15],runner_entry_point:15,scene:20,sheep:[1,2,13,16],shepherd:[0,3,4,6,7,8,9,10,11,12,13,14,15,16,17,18,19],storag:18,submodul:[6,9,14],support:3,usag:1,util:19,version:[1,2]}})